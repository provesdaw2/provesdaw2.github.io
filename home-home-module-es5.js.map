{"version":3,"sources":["webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.page.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/services/random-numbers.service.ts","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","RandomNumbersService","_maxNData","_curNData","_randNumbers","asObservable","newNumbers","i","push","Math","random","console","log","randNumbers","pipe","subscribe","originalRandNumbers","concat","next","providedIn","HomePage","randNumService","getNewRandNumbers","origianlRandNumbers","event","target","complete","length","maxNData","disabled","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"mainMenu\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Principal\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div id=\\\"container\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let num of randNumbers\\\">\\n        <ion-label>{{ num }}</ion-label>\\n      </ion-item>\\n    </ion-list>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadNewData($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Carregant...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-title>\\n      M.Àngels Cerveró Abelló\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFFQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFBRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUVBLGNBQUE7RUFFQSxTQUFBO0FBRkY7O0FBS0E7RUFDRSxxQkFBQTtBQUZGIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG5cbiAgY29sb3I6ICM4YzhjOGM7XG5cbiAgbWFyZ2luOiAwO1xufVxuXG4jY29udGFpbmVyIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59Il19 */\";","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RandomNumbersService {\n\n  private _maxNData: number = 1000;\n  private _curNData: number = 0;\n  private _randNumbers: BehaviorSubject<number[]> = new BehaviorSubject<number[]>([]);\n\n  constructor() { }\n\n  get maxNData(): number {\n    return this._maxNData;\n  }\n\n  get randNumbers(): Observable<number[]> {\n    return this._randNumbers.asObservable();\n  }\n\n  getNewRandNumbers() {\n    let newNumbers: number[] = [];\n    for(let i=0; i<20; i++) {\n      if(this._curNData < this._maxNData) {\n        newNumbers.push(Math.random() % 10000);\n        this._curNData++;\n      } else {\n        i = 20;\n      }\n    }\n\n    console.log(newNumbers);\n\n    this.randNumbers.pipe(take(1)).subscribe(\n      (originalRandNumbers: number[]) => {\n        originalRandNumbers = originalRandNumbers.concat(newNumbers);\n        console.log(originalRandNumbers);\n        this._randNumbers.next(originalRandNumbers);\n      }\n    );\n  }\n}\n","import { Component } from '@angular/core';\nimport { RandomNumbersService } from '../services/random-numbers.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n  public randNumbers: number[];\n\n  constructor(private randNumService: RandomNumbersService) {\n    this.randNumService.getNewRandNumbers();\n    this.randNumService.randNumbers.subscribe(\n      (origianlRandNumbers: number[]) => {\n        this.randNumbers = origianlRandNumbers;\n      }\n    );\n  }\n\n  loadNewData(event) {\n    //Demanar al service noves dades (per exemple, el service ens les anirà passant de 20 en 20)\n    this.randNumService.getNewRandNumbers();\n\n    //Aturar l'event d'Scroll\n    event.target.complete();\n    if(this.randNumbers.length == this.randNumService.maxNData) {\n      event.target.disabled = true;\n    }\n  }\n\n}\n"]}